<section class="mapContent" *ngIf="!isDetailedView">
    <mgl-map id="map" [style]="'mapbox://styles/mapbox/streets-v9'" [zoom]="zoom" [center]="center" [centerWithPanTo]="true"
        [pitch]="pitch" movingMethod="jumpTo" [cursorStyle]="cursorStyle">
        <!-- [lngLat]="coord" -->
        <!-- <mgl-marker id="cat" *ngIf="showMarker" [feature]="feature">
        
        <div (click)="alert('Foo')" class="marker"  [ngStyle]="rotateMarker" style="background-image: url(../assets/images/car.png);">
        </div>
        </mgl-marker> -->
       
        <mgl-marker  id="dest" *ngIf="showMarker" [feature]="destfeature" >

            <div (click)="onClick(destfeature)" 
            class="markersource" style="background-image: url(../assets/images/descmarker.png);">
            </div>
        </mgl-marker>
        <mgl-popup
         *ngIf="selectedPoint"
      [lngLat]="destfeature.geometry?.coordinates"
      [closeOnClick]="false"
      (close)="popupClose()"
    >
      <h1>Hello world !</h1>
    </mgl-popup>
        <mgl-marker id="source" *ngIf="showMarker" [feature]="feature">

            <div class="marker" [ngStyle]="rotateMarker" style="background-image: url(../assets/images/car.png);">
            </div>
        </mgl-marker>


        <mgl-geojson-source *ngIf="data" id="trace" [data]="data">
        </mgl-geojson-source>
        <mgl-layer *ngIf="data" id="trace" type="line" source="trace" [paint]="{
            'line-color': 'blue',
            'line-opacity': 0.75,
            'line-width': 5
        }">
        </mgl-layer>
       
        <mgl-popup
            *ngIf="selectedPoint"
            [lngLat]="destfeature.geometry?.coordinates"
            >
            <span [innerHTML]="destfeature.properties?.description"></span>
        </mgl-popup>
    </mgl-map>
</section>
<div class="footer" *ngIf="!isDetailedView" (click)="openBottomSheet()">
    <p>
        Estimated Travel Time :
        <span class="footerDiv" style="float:right">{{estimatedTime}} min</span>
    </p>
</div>
